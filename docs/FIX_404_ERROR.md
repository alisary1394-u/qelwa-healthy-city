# حل خطأ 404 (Request failed with status code 404)

هذا الخطأ يظهر عند إضافة عضو أو حفظ بيانات لأن التطبيق يتصل بـ **Base44** ولا يجد الخادم أو الكيان.

**تم إصلاح:** الطلبات كانت تذهب إلى `localhost` بالخطأ. الآن يتم إرسالها إلى `https://base44.app`. تأكد من الخطوتين أدناه.

## الخطوة 1: ضبط ملف البيئة `.env.local`

يجب أن تحتوي المتغيرات على **قيم حقيقية** من لوحة Base44 وليست النص البديل.

1. افتح [Base44.com](https://Base44.com) وسجّل الدخول.
2. اختر تطبيقك (أو أنشئ تطبيقاً جديداً).
3. من إعدادات التطبيق أو قسم API/Backend انسخ:
   - **معرف التطبيق (App ID)**
   - **رابط الباكند (Backend URL)** — يشبه: `https://xxxx-xxxx.base44.app`
4. افتح ملف **`.env.local`** في جذر المشروع وغيّر السطور إلى:

```
VITE_BASE44_APP_ID=المعرف_الذي_نسخته
VITE_BASE44_APP_BASE_URL=https://xxxx-xxxx.base44.app
```

5. احفظ الملف ثم **أعد تشغيل التطبيق** (أغلق نافذة run-dev.bat وشغّلها من جديد، أو أوقف السيرفر ثم `npm run dev`).

---

## الخطوة 2: إنشاء الكيانات (الجداول) في Base44

حتى يعمل "إضافة عضو" وغيرها، يجب أن تكون كيانات التطبيق (مثل TeamMember) منشأة على خادم Base44.

1. ثبّت Base44 CLI إن لم يكن مثبتاً:
   ```bash
   npm install -g base44
   ```
2. من مجلد المشروع نفّذ:
   ```bash
   base44 link
   ```
   واختر تطبيقك (نفس التطبيق الذي وضعت له المعرف والرابط في `.env.local`).
3. ثم نفّذ:
   ```bash
   base44 entities push
   ```
   لرفع تعريفات الكيانات من مجلد `base44/entities/` إلى Base44.

بعد ذلك جرّب "إضافة عضو" مرة أخرى.

---

## ملخص

| السبب المحتمل لـ 404 | الحل |
|----------------------|------|
| `.env.local` ما زال فيه `your_app_id` أو `your_backend_url` | استبدلها بقيم حقيقية من Base44 ثم أعد تشغيل التطبيق |
| رابط الباكند خاطئ أو قديم | تصحيح `VITE_BASE44_APP_BASE_URL` في `.env.local` |
| الكيانات غير منشأة على Base44 | تنفيذ `base44 link` ثم `base44 entities push` |

تفاصيل رفع الكيانات: [BASE44_DEPLOY_ENTITIES.md](BASE44_DEPLOY_ENTITIES.md)
