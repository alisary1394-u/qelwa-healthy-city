/**
 * معايير المدن الصحية — مرجع: docs/مرجع-معايير-المحاور-للمقارنة.md
 * 9 محاور، 80 معياراً، مع مؤشرات أداء لكل معيار ولكل محور.
 */

/** توزيع المعايير على المحاور الـ 9 (7+7+5+11+26+6+5+6+7 = 80) */
export const AXIS_COUNTS_CSV = [7, 7, 5, 11, 26, 6, 5, 6, 7];

/** المحاور الـ 9 حسب المرجع */
export const AXES_CSV = [
  { name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', description: '(أ) تنظيم المجتمع وتعبئته من أجل الصحة والتنمية (معايير 1–7)', order: 1 },
  { name: 'التعاون، والشراكة والدعوة بين القطاعات', description: '(ب) التعاون، والشراكة والدعوة بين القطاعات (معايير 8–14)', order: 2 },
  { name: 'مركز المعلومات المجتمعي', description: '(ج) مركز المعلومات المجتمعي (معايير 15–19)', order: 3 },
  { name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', description: '(د) المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء (معايير 20–30)', order: 4 },
  { name: 'التنمية الصحية', description: '(هـ) التنمية الصحية (معايير 31–56)', order: 5 },
  { name: 'الاستعداد للطوارئ والاستجابة لها', description: '(و) الاستعداد للطوارئ والاستجابة لها (معايير 57–62)', order: 6 },
  { name: 'التعليم ومحو الأمية', description: '(ز) التعليم ومحو الأمية (معايير 63–67)', order: 7 },
  { name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', description: '(ح) تنمية المهارات، والتدريب المهني وبناء القدرات (معايير 68–73)', order: 8 },
  { name: 'أنشطة القروض الصغيرة', description: '(ط) أنشطة القروض الصغيرة (معايير 74–80)', order: 9 },
];

/** أسماء مختصرة للمحاور للعرض في التبويبات */
export const AXIS_SHORT_NAMES_CSV = [
  'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية',
  'التعاون، والشراكة والدعوة بين القطاعات',
  'مركز المعلومات المجتمعي',
  'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء',
  'التنمية الصحية',
  'الاستعداد للطوارئ والاستجابة لها',
  'التعليم ومحو الأمية',
  'تنمية المهارات والتدريب المهني',
  'أنشطة القروض الصغيرة',
];

const VERIFICATION_KPI = { name: 'مؤشر التحقق', target: 'أدلة متوفرة (+)', unit: 'تحقق' };

/**
 * بناء مؤشرات أداء لكل معيار: مؤشر التحقق + مؤشرات مستخرجة من نص المعيار عند الإمكان.
 */
function buildKpisForStandard(title, globalNum) {
  const kpis = [{ ...VERIFICATION_KPI, description: title }];
  if (/نسبة|تتجاوز|تصل لـ|100%|95%|90%/.test(title)) {
    kpis.push({ name: 'نسبة التحقق', target: 'حسب النص أعلاه', unit: '%', description: title });
  }
  if (/وجود|توفر|توفر نظام|وجود نظام/.test(title)) {
    kpis.push({ name: 'توفر/وجود', target: 'متحقق', unit: '-', description: 'توثيق التوفر أو الوجود' });
  }
  if (/دوري|سنوياً|ربع سنوية/.test(title)) {
    kpis.push({ name: 'الدورية', target: 'منتظم', unit: '-', description: 'انتظام التنفيذ حسب الفترة' });
  }
  return kpis;
}

/**
 * المعايير الـ 80 (9 محاور) مع عنوان، وصف، مستندات مطلوبة، مؤشرات أداء.
 * الرمز: م{رقم المحور}-{رقم المعيار داخل المحور}.
 */
export const STANDARDS_CSV = [
  // المحور 1 (أ): تنظيم المجتمع وتعبئته من أجل الصحة والتنمية (1–7)
  { title: 'اختيرت ودربت المجموعات المكونة من الممثلين والمتطوعين على تقييم الاحتياجات، وترتيب الأولويات، وتحليل المعطيات، وإعداد المشروع، والرصد وآليات التسجيل وآليات الإبلاغ.', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 1, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'تدريب المجموعات على التقييم والرصد والإبلاغ' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['أدلة التدريب', 'آليات التسجيل والإبلاغ'] },
  { title: 'تم تشكيل لجنة تنسيق أعمال المدينة الصحية، وسجلت من قبل السلطات المحلية، باعتبارها إحدى المنظمات المجتمعية أو المنظمات غير الحكومية، وتم توجيه الأعضاء نحو مهامهم ومسؤولياتهم.', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 2, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'لجنة تنسيق مسجلة وأعضاء موجهون' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل اللجنة', 'مهام ومسؤوليات الأعضاء'] },
  { title: 'المجموعات المكونة للممثلين والمتطوعين أصبحت شركاء نشيطين في التخطيط الصحي والاجتماعي المحلي والإجراءات. وفي إمكانهم تأمين الرعاية الصحية وغيرها من الخدمات الصحية التي تستخدم في هذه المجموعات.', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 3, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'شراكة نشطة وقدرة على تأمين الخدمات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['أدلة المشاركة', 'الخدمات المقدمة'] },
  { title: 'تقوم لجنة تنسيق أعمال المدينة الصحية بمراقبة المشاريع الاجتماعية والاقتصادية والإشراف عليها، وتسجل ما تم من إنجازات، وعراقيل وتحدد الحلول المحلية للمشكلات المحلية.', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 4, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'مراقبة المشاريع وتسجيل الإنجازات والعراقيل' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجلات المراقبة', 'الإنجازات والحلول المحلية'] },
  { title: 'تبحث لجنة لتنسيق أعمال المدينة الصحية عن الموارد، وتقوم بتكوين العلاقات مع الشركاء المحتملين من أجل مزيد من التنمية في الأماكن المحلية.', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 5, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'البحث عن الموارد والشراكات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['أدلة الموارد والشراكات'] },
  { title: 'تم تأسيس أو تم التخطيط لإنشاء مركز اجتماعي من أجل الاستخدامات المختلفة وفقا لاحتياجات المجتمع (العقد اجتماعات المجتمع، وإجراء التدريب المهني، ويكون بمثابة مركزاً مجتمعيا للمعلومات، أو لتنظيم فعاليات ثقافية، محليه ووطنية ودينية، الخ)', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 6, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'مركز اجتماعي أو خطة لإنشائه' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق المركز أو الخطة'] },
  { title: 'تم تأسيس المجموعات النسائية والشبابية وتم تسجيلها وتسهم في التدخلات التنموية المحلية.', axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', global_num: 7, axis_order: 1, kpis: [{ ...VERIFICATION_KPI, description: 'مجموعات نسائية وشبابية مسجلة وفاعلة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل المجموعات', 'أدلة المساهمة'] },
  // المحور 2 (ب): التعاون، والشراكة والدعوة بين القطاعات (8–14)
  { title: 'تم ترشيح وتعيين أعضاء لجنة تنسيق أعمال المدينة الصحية بصورة رسمية من قبل مختلف القطاعات.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 8, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'ترشيح وتعيين أعضاء اللجنة رسمياً' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قرارات الترشيح والتعيين'] },
  { title: 'تم تشكيل لجنة تنسيق أعمال المدينة الصحية تحت رئاسة العمدة أو المحافظ، واستقطبت أعضاءها من ممثلين من كافة القطاعات ذات الصلة، وسجلت جميع وقائع الاجتماعات والتبليغ بها.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 9, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'لجنة تحت رئاسة العمدة/المحافظ وسجلات الاجتماعات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['محاضر الاجتماعات', 'سجل التبليغ'] },
  { title: 'تم تعيين منسق رسمي لبرنامج المدينة الصحية، مع توفير العدد الكافي من العاملين معه علاوة على مساحة معقولة للعمل من خلالها وتزويدها بالمعدات والتسهيلات.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 10, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'منسق رسمي ومساحة عمل ومعدات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قرار التعيين', 'وصف المساحة والمعدات'] },
  { title: 'يجتمع أعضاء الفريق المشترك بين القطاعات مع لجنة تنسيق أعمال المدينة الصحية ويقدمون المشورة الفنية والدعم للمجتمع.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 11, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'اجتماعات الفريق المشترك والمشورة والدعم' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['محاضر الاجتماعات', 'أدلة الدعم'] },
  { title: 'تم التعرف على الشركاء المحتملين والاتصال بهم وجاري تنفيذ مشروع واحد مشترك على الأقل في المكان الذي اختير ليكون مدينة صحية.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 12, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'شركاء محتملون ومشروع مشترك قيد التنفيذ' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قائمة الشركاء', 'وثائق المشروع المشترك'] },
  { title: 'تسجيل القضايا المالية المتعلقة بالأنشطة المشتركة، ويتم تسجيلها والتبليغ بها، ويشارك المجتمع فيها من أجل تحقيق الشفافية.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 13, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'تسجيل وتبليغ القضايا المالية ومشاركة المجتمع' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجلات مالية', 'محاضر المشاركة'] },
  { title: 'يتم توثيق قصص النجاح، وتنشر وتستخدم في الدعوة، ووضع استراتيجية شاملة وآليات الدعوة مع مراعاة الثقافة المحلية، على أن تنفذ من قبل لجنة تنمية المجتمع المحلى.', axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', global_num: 14, axis_order: 2, kpis: [{ ...VERIFICATION_KPI, description: 'توثيق قصص النجاح واستراتيجية الدعوة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قصص النجاح', 'استراتيجية الدعوة'] },
  // المحور 3 (ج): مركز المعلومات المجتمعي (15–19)
  { title: 'تم تأسيس مركز معلومات مجتمعي، ودرب ممثلون ومتطوعون من المجموعات المكونة وأعضاء الفريق المشترك بين القطاعات على جمع المعلومات الأساسية وتحليلها واستخدامها في التخطيط التنموي المحلي.', axis_name: 'مركز المعلومات المجتمعي', global_num: 15, axis_order: 3, kpis: [{ ...VERIFICATION_KPI, description: 'مركز معلومات مجتمعي وتدريب على جمع وتحليل المعلومات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق المركز', 'سجل التدريب'] },
  { title: 'تعرض المعلومات الأساسية في مركز المعلومات المجتمعي أو مكتب برنامج المدينة الصحية المحلي، ويشاركها المجتمع مع جميع الشركاء والقطاعات ذات الصلة.', axis_name: 'مركز المعلومات المجتمعي', global_num: 16, axis_order: 3, kpis: [{ ...VERIFICATION_KPI, description: 'عرض ومشاركة المعلومات الأساسية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['أدلة العرض والمشاركة'] },
  { title: 'تستخدم المعلومات الأساسية لأغراض الدعوة والرصد من قبل لجنة تنمية المجتمع المحلي والجهات المعنية الأخرى.', axis_name: 'مركز المعلومات المجتمعي', global_num: 17, axis_order: 3, kpis: [{ ...VERIFICATION_KPI, description: 'استخدام المعلومات في الدعوة والرصد' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['أدلة الاستخدام'] },
  { title: 'توثيق جيد لنماذج المسح الأساسي ونتائجه، وتحديث المعلومات المتعلقة بالمشاريع القائمة، وإتاحتها من قبل لجنة تنمية المجتمع المحلي ومنسق المدينة الصحية.', axis_name: 'مركز المعلومات المجتمعي', global_num: 18, axis_order: 3, kpis: [{ ...VERIFICATION_KPI, description: 'توثيق المسح وتحديث المعلومات وإتاحتها' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['نماذج المسح', 'سجل التحديث'] },
  { title: 'إكمال تصميم ملف المدينة، وتحديثه بانتظام وبشكل منهجي، واستخدامه في عمليات التخطيط والرصد.', axis_name: 'مركز المعلومات المجتمعي', global_num: 19, axis_order: 3, kpis: [{ ...VERIFICATION_KPI, description: 'ملف المدينة وتحديثه واستخدامه' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['ملف المدينة', 'سجل التحديث'] },
  // المحور 4 (د): المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء (20–30)
  { title: 'موقع تنفيذ البرنامج نظيف وبه مساحات خضراء كافية.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 20, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'موقع نظيف ومساحات خضراء' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['صور الموقع', 'وصف المساحات الخضراء'] },
  { title: 'الانتهاء من إنشاء نظام مجتمعي فعّال لمعالجة النفايات الصلبة في موقع تنفيذ البرنامج.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 21, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'نظام معالجة النفايات الصلبة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وصف النظام', 'سجل التشغيل'] },
  { title: 'تم عمل مخطط المصادر المياه وحمايتها بصورة واضحة عن طريق الخرائط. وقد تم التخطيط لمعالجة المياه على أن تكون لجنة تنسيق أعمال المدينة الصحية على علم به.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 22, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'مخطط مصادر المياه والحماية والتخطيط للمعالجة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['خرائط المصادر', 'خطة المعالجة'] },
  { title: 'وصول جميع العائلات إلى مياه شرب آمنة ومرافق صرف صحي أساسية، ورفع الوعي بمخاطر المياه غير الآمنة وتوفير المعرفة حول تنقية المياه بالطرق المتاحة محلياً.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 23, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'مياه آمنة وصرف صحي وتوعية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير التغطية', 'مواد التوعية'] },
  { title: 'تدريب الممثلين والمتطوعين من المجموعات المختلفة على الحفاظ على البيئات والمواقع الصحية، وتوفير التدخلات ذات الصلة للمجتمع مثل أسواق التسوق الصحية والمستشفيات الصحية والمدارس الصحية.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 24, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'تدريب على الحفاظ على البيئات والمواقع الصحية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل التدريب', 'أدلة التدخلات'] },
  { title: 'مشاركة المجتمع في سلامة الغذاء ومراقبة جميع الأسواق المحلية ومحلات البقالة المتخصصة في الأغذية الصحية من قبل إدارات سلامة الغذاء الوطنية.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 25, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'مشاركة المجتمع في سلامة الغذاء ومراقبة الأسواق' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير المراقبة', 'محاضر المشاركة'] },
  { title: 'تحسين إمكانية الوصول إلى الأسواق التي تبيع الأغذية الصحية والمنتجات الأساسية (مثل الملح المعالج باليود).', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 26, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'وصول إلى أسواق الأغذية الصحية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['مسوحات الأسواق'] },
  { title: 'حظر التدخين في الأماكن المغلقة والأماكن العامة، وإعداد خطة لتحويل المدينة إلى مدينة خالية من التدخين.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 27, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'حظر التدخين وخطة مدينة خالية من التدخين' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['نظام الحظر', 'خطة المدينة الخالية من التدخين'] },
  { title: 'إنشاء مركز مجتمعي لجودة الهواء في إطار برنامج المدينة الصحية (بمشاركة البلدية) لضمان المراقبة المنتظمة والمنهجية لتلوث الهواء وزيادة وعي المجتمع بمخاطر تلوث الهواء.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 28, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'مركز جودة الهواء والمراقبة والتوعية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق المركز', 'تقارير المراقبة'] },
  { title: 'قيام مخططي المدينة بتنفيذ التدخلات التي تحد من تلوث الهواء', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 29, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'تدخلات مخططي المدينة لتقليل تلوث الهواء' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['خطة التدخلات', 'تقارير التنفيذ'] },
  { title: 'يجب إجراء تقييم التأثير تلوث الهواء قبل الموافقة على المناهج والخطط الخاصة بتحديد الأماكن الحضرية والسكانية. وتضمن هذه الخطط على سبيل المثال وصول السكان إلى الوقود النظيف والتهوية ومواقد وأدوات التدفئة المحسنة.', axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', global_num: 30, axis_order: 4, kpis: [{ ...VERIFICATION_KPI, description: 'تقييم أثر تلوث الهواء وخطط الوقود والتهوية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقرير التقييم', 'الخطط المعتمدة'] },
  // المحور 5 (هـ): التنمية الصحية — معايير 31–56 (الوثيقة الرسمية)
  { title: 'تم تدريب ممثلي المجموعات المكونة والمتطوعين الصحيين على القضايا الصحية والبرامج ذات العلاقة بالصحة. على أن يكونوا نشطاء في تعزيز الصحة والتثقيف بها، ويقومون بمتابعة العمليات من خلال الاتصال المنتظم بمقدمي خدمات الرعاية الصحية المحليين.', axis_name: 'التنمية الصحية', global_num: 31, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تدريب الممثلين والمتطوعين على القضايا الصحية والمتابعة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل التدريب', 'أدلة المتابعة'] },
  { title: 'يقوم ممثلو المجموعات والمتطوعين الصحيين بتسجيل وتبليغ حالات الولادة والوفيات وغيرها من الإحصاءات الحيوية.', axis_name: 'التنمية الصحية', global_num: 32, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تسجيل وتبليغ الولادات والوفيات والإحصاءات الحيوية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجلات التسجيل والتبليغ'] },
  { title: 'انتهاء لجنة تنسيق أعمال المدينة الصحية بالتعاون مع مقدمي الرعاية الصحية من إنشاء نظم إحالة مستدامة', axis_name: 'التنمية الصحية', global_num: 33, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'نظم إحالة مستدامة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق نظم الإحالة'] },
  { title: 'الانتهاء من تدريب وإشراك المجتمع بصورة فعالة في المشاريع القائمة على بحوث المشاركة المجتمعية', axis_name: 'التنمية الصحية', global_num: 34, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تدريب وإشراك المجتمع في مشاريع المشاركة المجتمعية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير التدريب والمشاركة'] },
  { title: 'تشكيل لجنة فرعية تابعة للجنة تنسيق أعمال المدينة الصحية من أجل إدارة خدمات الرعاية الصحية المحلية والإشراف عليها.', axis_name: 'التنمية الصحية', global_num: 35, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'لجنة فرعية لإدارة الرعاية الصحية المحلية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قرار التشكيل', 'محاضر اللجنة'] },
  { title: 'توفر الأدوية الأساسية واللقاحات والأدوات الطبية في المرافق الصحية الحضرية بما يتوافق مع احتياجات النظام الصحي المحلي.', axis_name: 'التنمية الصحية', global_num: 36, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'أدوية أساسية ولقاحات وأدوات طبية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل التوفر', 'قوائم الأدوية واللقاحات'] },
  { title: 'إجراء تقييمات جودة لخدمات الرعاية الصحية، وتقييم رضا «الزبائن»، ومستوى تدريب العاملين الصحيين، وتفاعل مقدمي الخدمة مع المجتمع، مع اتخاذ إجراءات عملية بناءً على التقييم.', axis_name: 'التنمية الصحية', global_num: 37, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تقييم جودة الخدمات والرضا والتدريب' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير التقييم', 'الإجراءات المتخذة'] },
  { title: 'حصول جميع الحوامل على رعاية ما قبل الولادة في الوقت المناسب (بما في ذلك لقاح الكزاز)، وإعداد خطة ولادة آمنة لمن هن في الثلث الأخير من الحمل، وتوفير أماكن ولادة آمنة ونظيفة يشرف عليها كوادر مدربة ومؤهلة.', axis_name: 'التنمية الصحية', global_num: 38, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'رعاية ما قبل الولادة وخطة ولادة آمنة' }, { name: 'نسبة التغطية', target: '90%+', unit: '%' }], documents: ['سجلات الرعاية', 'أدلة الأماكن الآمنة'] },
  { title: 'حصول جميع الأمهات على رعاية ما بعد الولادة لمدة 40 يوماً على الأقل.', axis_name: 'التنمية الصحية', global_num: 39, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'رعاية ما بعد الولادة 40 يوماً' }, { name: 'نسبة التغطية', target: '90%+', unit: '%' }], documents: ['سجل الرعاية'] },
  { title: 'تطعيم جميع الأطفال ضد الأمراض التي يمكن الوقاية منها باللقاحات قبل بلوغهم السنة الأولى من العمر.', axis_name: 'التنمية الصحية', global_num: 40, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تطعيم الأطفال قبل السنة الأولى' }, { name: 'نسبة التغطية', target: '95%+', unit: '%' }], documents: ['سجل التحصين'] },
  { title: 'تسجيل جميع المواليد من قبل ممثلي المجتمع والمتطوعين الصحيين، وتطعيمهم عند الولادة وخلال السنة الأولى وفق الجدول الوطني للتحصين الموسع.', axis_name: 'التنمية الصحية', global_num: 41, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تسجيل المواليد والتحصين حسب الجدول الوطني' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل المواليد', 'سجل التحصين'] },
  { title: 'مشاركة لجنة تنسيق أعمال المدينة الصحية وممثلي المجتمع والمتطوعين الصحيين بفعالية في حملات استئصال شلل الأطفال (إن وُجدت).', axis_name: 'التنمية الصحية', global_num: 42, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'مشاركة في حملات استئصال شلل الأطفال' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير المشاركة'] },
  { title: 'إتاحة خدمات الرعاية الصحية للأطفال دون الخامسة، واستفادتهم منها بانتظام (بما في ذلك خدمات متابعة النمو)، مع وجود نظام متابعة فعّال.', axis_name: 'التنمية الصحية', global_num: 43, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'خدمات للأطفال دون الخامسة ومتابعة النمو' }, { name: 'نسبة التغطية', target: '80%+', unit: '%' }], documents: ['سجلات المتابعة'] },
  { title: 'تحديد الأطفال والأمهات المصابين بسوء التغذية أو نقص فيتامين أ أو فقر الدم الناجم عن نقص الحديد، وضمان حصولهم على العلاج والمتابعة والرعاية المستمرة.', axis_name: 'التنمية الصحية', global_num: 44, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد حالات سوء التغذية ونقص الفيتامينات والحديد' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجلات التحديد والعلاج'] },
  { title: 'تنفيذ استراتيجية DOTS لعلاج السل تحت الإشراف المباشر، بمشاركة ممثلي المجتمع أو المتطوعين المدربين كشركاء في العلاج.', axis_name: 'التنمية الصحية', global_num: 45, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'استراتيجية DOTS وشركاء علاج مدربون' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل العلاج', 'أدلة الشراكة'] },
  { title: 'تنفيذ برنامج لمكافحة الملاريا (إن لزم)، بمشاركة فعالة من ممثلي المجتمع أو المتطوعين، وتولي اللجان المحلية لتنمية المجتمع قيادة الأنشطة.', axis_name: 'التنمية الصحية', global_num: 46, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'برنامج مكافحة الملاريا ومشاركة المجتمع' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['خطة البرنامج', 'تقارير التنفيذ'] },
  { title: 'قيام ممثلي المجتمع والمتطوعين الصحيين بالإبلاغ عن الحالات المشتبه فيها (السل، الملاريا، الإيدز، والأمراض المعدية الأخرى) إلى أقرب مرفق صحي، وتنفيذ أنشطة المتابعة بناءً على التدريب، وضمان مشاركة أفراد الأسرة أسبوعياً في أنشطة الصحة البدنية.', axis_name: 'التنمية الصحية', global_num: 47, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'الإبلاغ عن المشتبه بهم والمتابعة ومشاركة الأسر' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل الإبلاغ', 'سجل المتابعة'] },
  { title: 'تثقيف المجتمع حول طرق عدوى فيروس نقص المناعة (الإيدز) وطرق الوقاية. وحصول المصابين بفيروس الإيدز على الدعم والمعونة من ممثلي المجتمع والمتطوعين الصحيين.', axis_name: 'التنمية الصحية', global_num: 48, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تثقيف حول الإيدز ودعم المصابين' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['مواد التثقيف', 'سجل الدعم'] },
  { title: 'تحديد جميع مرضى الأمراض المزمنة (مثل السكري، وارتفاع ضغط الدم، وأمراض القلب والأوعية، والسرطان، واضطرابات الكلى، وغيرها)، ورسم خريطة تفصيلية لأماكنهم، ووضع خطة متابعة من قبل ممثلي المجتمع والمتطوعين الصحيين لضمان الفحوص الدورية والالتزام بالدواء.', axis_name: 'التنمية الصحية', global_num: 49, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد مرضى الأمراض المزمنة وخريطة ومتابعة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل الحالات', 'خطة المتابعة'] },
  { title: 'تحديد جميع الحالات المصابة باضطرابات نفسية والمتعاطين للمخدرات وتلقيهم دعم ومعاونة المجتمع المحلي. كما يتم تنفيذ الأنشطة التثقيفية للمجتمع من أجل الحد من نظرتهم الواصمة لهم.', axis_name: 'التنمية الصحية', global_num: 50, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'دعم الاضطرابات النفسية والمتعاطين وتقليل الوصم' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل الدعم', 'أنشطة التوعية'] },
  { title: 'تحديد جميع من يعانون من عجز بدني بصورة تفصيلية وضمان تلقيهم الدعم المجتمعي من أجل تأمين قدراتهم على كسب الرزق.', axis_name: 'التنمية الصحية', global_num: 51, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد ذوي العجز البدني والدعم المجتمعي' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل الحالات', 'برامج الدعم'] },
  { title: 'يتم التعرف على الأماكن التي تتسم بالخطورة في نطاق تنفيذ البرنامج، ويتم اتخاذ الإجراءات والتدابير المناسبة من أجل خفض معدلات الوفيات والإصابات والعجز الناجمة عن الحوادث.', axis_name: 'التنمية الصحية', global_num: 52, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد الأماكن الخطرة وتدابير خفض الحوادث' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['خرائط الخطورة', 'التدابير المتخذة'] },
  { title: 'تحقق خلو منطقة تنفيذ البرنامج من الجريمة، والعنف، والتمييز ضد النساء والرجال والتمييز العرقي.', axis_name: 'التنمية الصحية', global_num: 53, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'خلو المنطقة من الجريمة والعنف والتمييز' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير الأمان', 'أدلة السياسات'] },
  { title: 'دعم المجتمع وتبنيه لبرامج الطفولة المبكرة وتعزيزها علاوة على اعتماده للمنازل والمجتمعات الصديقة للطفل.', axis_name: 'التنمية الصحية', global_num: 54, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'برامج الطفولة المبكرة والمجتمعات الصديقة للطفل' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['برامج الطفولة', 'شهادات الاعتماد'] },
  { title: 'جميع المبادرات الخاصة بالصحة المدرسية تنفذ في جميع المدارس الواقعة في نطاق تنفيذ البرنامج.', axis_name: 'التنمية الصحية', global_num: 55, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'مبادرات الصحة المدرسية في جميع المدارس' }, { name: 'نسبة التغطية', target: '100%', unit: '%' }], documents: ['تقارير التنفيذ'] },
  { title: 'إجراءات الصحة والسلامة المهنية متوافرة في جميع أماكن العمل (ولاسيما العمليات الخاصة بالوقاية من الحوادث)، وتتوافر أمام العاملين السبل السهلة والسريعة للوصول إلى معدات وخدمات الإسعافات الأولية.', axis_name: 'التنمية الصحية', global_num: 56, axis_order: 5, kpis: [{ ...VERIFICATION_KPI, description: 'الصحة والسلامة المهنية والإسعافات الأولية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['لوائح السلامة', 'أدلة التجهيز'] },
  // المحور 6 (و): الاستعداد للطوارئ والاستجابة لها — معايير 57–62 (الوثيقة الرسمية)
  { title: 'تم تحديد حالات الطوارئ التي حدثت خلال العشرين عاماً السابقة، وتم توثيق عدد الضحايا والبنية التحتية المحلية التي تضررت أو دمرت.', axis_name: 'الاستعداد للطوارئ والاستجابة لها', global_num: 57, axis_order: 6, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد حالات الطوارئ وتوثيق الضحايا والبنية التحتية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل حالات الطوارئ', 'توثيق الضحايا والأضرار'] },
  { title: 'إنشاء لجنة فرعية للاستعداد للطوارئ والاستجابة لها، وتم توجيهها وتوزيع المهام الخاصة بها على الأعضاء.', axis_name: 'الاستعداد للطوارئ والاستجابة لها', global_num: 58, axis_order: 6, kpis: [{ ...VERIFICATION_KPI, description: 'لجنة فرعية للطوارئ وتوزيع المهام' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قرار التشكيل', 'توزيع المهام'] },
  { title: 'انتهاء إعداد مخطط للمدينة وحفظ صورة منه خارج المنطقة التي يتم فيها تنفيذ البرنامج.', axis_name: 'الاستعداد للطوارئ والاستجابة لها', global_num: 59, axis_order: 6, kpis: [{ ...VERIFICATION_KPI, description: 'مخطط المدينة وحفظ نسخة خارج المنطقة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['مخطط المدينة', 'إثبات الحفظ'] },
  { title: 'تم تدريب ممثلي المجموعات المكونة والمتطوعين الصحيين على خطط الاستعداد للطوارئ، وكيفية التعامل مع الحالات الحرجة والطارئة، وتقديم الإسعافات الأولية عند الاقتضاء في أي وقت وأي مكان.', axis_name: 'الاستعداد للطوارئ والاستجابة لها', global_num: 60, axis_order: 6, kpis: [{ ...VERIFICATION_KPI, description: 'تدريب على خطط الطوارئ والإسعافات الأولية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل التدريب', 'خطط الطوارئ'] },
  { title: 'تم إعداد خطة احتياطية للطوارئ وإعلام السلطات المختصة بها من أجل تعبئة الموارد واتخاذ الإجراءات اللازمة. ويكون المجتمع على علم بهذه الخطة الاحتياطية، ملماً بما يجب عمله ومن سيتم تبليغه، ومن سيعمل ماذا أثناء فترة الطوارئ.', axis_name: 'الاستعداد للطوارئ والاستجابة لها', global_num: 61, axis_order: 6, kpis: [{ ...VERIFICATION_KPI, description: 'خطة احتياطية وإعلام السلطات وعلم المجتمع' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['الخطة الاحتياطية', 'سجل الإعلام'] },
  { title: 'تحديد المجموعات السكانية المستضعفة باستخدام الخرائط (وهي الحوامل، وذوي الإعاقات الجسدية، والمصابون بأمراض مزمنة، ومن يعانون من سوء التغذية، والمسنون والمصابون باضطرابات عقلية، إلخ)، وهذه المعلومات معروفة أيضاً للسلطات المعنية بصورة مسبقة قبل وقوع أي حالة من حالات الطوارئ.', axis_name: 'الاستعداد للطوارئ والاستجابة لها', global_num: 62, axis_order: 6, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد المجموعات المستضعفة بالخرائط وإعلام السلطات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['خرائط المجموعات المستضعفة', 'سجل الإعلام'] },
  // المحور 7 (ز): التعليم ومحو الأمية — معايير 63–67 (الوثيقة الرسمية)
  { title: 'التحاق جميع الأطفال في سن الدراسة (البنين والبنات) بالمدارس ولم يتسرب تلميذ واحد من التعليم.', axis_name: 'التعليم ومحو الأمية', global_num: 63, axis_order: 7, kpis: [{ ...VERIFICATION_KPI, description: 'الالتحاق بالمدارس وعدم التسرب' }, { name: 'نسبة الالتحاق', target: '100%', unit: '%' }], documents: ['إحصائيات الالتحاق', 'سجل التسرب'] },
  { title: 'يعقد مديرو المدارس اجتماعات دورية مع اللجان المحلية للتنمية المجتمعية، ومع الآباء، وغيرهم من أصحاب الشأن من أجل تقييم جودة التعليم، والبيئة المدرسية، والوضع الصحي للأطفال، والعلاقة بين الأهل والأطفال والمعلمين من أجل القضاء على أية أوجه قصور أو مشكلات قائمة أو مستقبلية.', axis_name: 'التعليم ومحو الأمية', global_num: 64, axis_order: 7, kpis: [{ ...VERIFICATION_KPI, description: 'اجتماعات دورية لتقييم جودة التعليم والبيئة المدرسية' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['محاضر الاجتماعات', 'تقارير التقييم'] },
  { title: 'توجد معايير جودة التعليم في أماكنها بالمدارس الواقعة في نطاق تنفيذ البرنامج.', axis_name: 'التعليم ومحو الأمية', global_num: 65, axis_order: 7, kpis: [{ ...VERIFICATION_KPI, description: 'معايير جودة التعليم في المدارس' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق المعايير', 'سجل التطبيق'] },
  { title: 'تم تشكيل لجنة فرعية للتعليم تابعة للجنة التنمية المجتمعية ويتم رصد ومراقبة المدارس بصورة دورية منتظمة. وتقوم اللجنة الفرعية بالتنسيق مع الإدارة التعليمية بالمنطقة.', axis_name: 'التعليم ومحو الأمية', global_num: 66, axis_order: 7, kpis: [{ ...VERIFICATION_KPI, description: 'لجنة فرعية للتعليم ورصد ومراقبة المدارس' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قرار التشكيل', 'تقارير الرصد والمراقبة'] },
  { title: 'تم تشجيع مجموعات الشباب والمجموعات النسائية على العمل كأعضاء نشيطين في حملات محو الأمية على أساس تطوعي.', axis_name: 'التعليم ومحو الأمية', global_num: 67, axis_order: 7, kpis: [{ ...VERIFICATION_KPI, description: 'مشاركة الشباب والنساء في حملات محو الأمية تطوعياً' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل الحملات', 'أدلة المشاركة'] },
  // المحور 8 (ح): تنمية المهارات، والتدريب المهني وبناء القدرات — معايير 68–73 (الوثيقة الرسمية)
  { title: 'انتهت إجراءات تقييم وتعزيز المهارات المحلية والاهتمامات والتقنيات المناسبة.', axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', global_num: 68, axis_order: 8, kpis: [{ ...VERIFICATION_KPI, description: 'تقييم وتعزيز المهارات المحلية والتقنيات المناسبة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير التقييم', 'إجراءات التعزيز'] },
  { title: 'أنشئت مراكز التدريب على المهارات التي ترتبط بالأسواق المحلية للذكور والإناث، وتقوم الفرق المتعددة القطاعات بدعم هذه المراكز.', axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', global_num: 69, axis_order: 8, kpis: [{ ...VERIFICATION_KPI, description: 'مراكز تدريب مرتبطة بالأسواق المحلية ودعم متعدد القطاعات' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق المراكز', 'أدلة الدعم'] },
  { title: 'تعطي لجنة تنسيق أعمال المدينة الصحية الأولوية لتوفير القروض لطلبة مراكز التدريب المهني.', axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', global_num: 70, axis_order: 8, kpis: [{ ...VERIFICATION_KPI, description: 'أولوية القروض لطلبة التدريب المهني' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['قرارات اللجنة', 'سجل القروض'] },
  { title: 'أصبحت مراكز التدريب المهني ذاتية التمويل، وذاتية الإدارة من قبل المجتمع أو المنظمات المحلية غير الحكومية.', axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', global_num: 71, axis_order: 8, kpis: [{ ...VERIFICATION_KPI, description: 'مراكز تدريب ذاتية التمويل والإدارة' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['تقارير التمويل والإدارة'] },
  { title: 'أنشئت مراكز التدريب على الحاسوب، وفصول تعليم اللغات، ومرافق الرياضة وغيرها، وهي الآن ذاتية الإدارة وذاتية التمويل من جانب المجتمع أو المنظمات المحلية غير الحكومية.', axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', global_num: 72, axis_order: 8, kpis: [{ ...VERIFICATION_KPI, description: 'مراكز حاسوب ولغات ورياضة ذاتية الإدارة والتمويل' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق المراكز والمرافق'] },
  { title: 'يتم تحديد المبدعين والمبتكرين ودعمهم وتعزيزهم.', axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', global_num: 73, axis_order: 8, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد ودعم المبدعين والمبتكرين' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل المبدعين', 'برامج الدعم'] },
  // المحور 9 (ط): أنشطة القروض الصغيرة — معايير 74–80 (الوثيقة الرسمية)
  { title: 'يتم تحديد الفقراء والمحتاجين من أفراد المجتمع وفقاً لمعايير محددة متفق عليها من قبل فريق تنسيق المدينة الصحية، وإعطاء الأولوية لهم في توفير الأنشطة المدرة للدخل والقروض.', axis_name: 'أنشطة القروض الصغيرة', global_num: 74, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'تحديد الفقراء والمحتاجين وأولوية الأنشطة المدرة للدخل والقروض' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['معايير التحديد', 'سجل المستفيدين'] },
  { title: 'التربيط بين المهارات المحلية ومراكز التدريب المهني وأنشطة الإقراض، مع التأكد من أن المنطقة تتجه نحو الاكتفاء الذاتي.', axis_name: 'أنشطة القروض الصغيرة', global_num: 75, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'ربط المهارات والتدريب والإقراض والاكتفاء الذاتي' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['وثائق التربيط', 'تقارير المتابعة'] },
  { title: 'تسجيل جميع القضايا المالية، ومتابعتها من قبل المسؤول المالي في لجنة التنسيق الخاصة بالمدينة الصحية.', axis_name: 'أنشطة القروض الصغيرة', global_num: 76, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'تسجيل ومتابعة القضايا المالية من قبل المسؤول المالي' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل القضايا المالية', 'تقارير المتابعة'] },
  { title: 'تسديد القروض على أساس نظامي وآلية متابعة تم وضعها من قبل لجنة تنسيق المدينة الصحية أو النظام المصرفي للمنطقة.', axis_name: 'أنشطة القروض الصغيرة', global_num: 77, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'تسديد نظامي وآلية متابعة للقروض' }, { name: 'نسبة السداد', target: 'حسب الآلية', unit: '%' }], documents: ['آلية المتابعة', 'سجل السداد'] },
  { title: 'تم فتح حساب مصرفي للجنة تنسيق المدينة الصحية أو مكتب البرنامج وجميع التعاملات المالية المتصلة بجدولة الائتمانات الصغيرة تتم من خلال البنك ومنسق البرنامج والمجتمع يدركون جيداً ذلك.', axis_name: 'أنشطة القروض الصغيرة', global_num: 78, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'حساب مصرفي للجنة/مكتب البرنامج ووعي المجتمع' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['إثبات فتح الحساب', 'أدلة التعاملات'] },
  { title: 'يتم أخذ نسبة من 5 إلى 10% نظير خدمات كل قرض من القروض المدرة للدخل والتي يتم جمعها في حساب منفصل لاستخدامها لحساب أنشطة التنمية الاجتماعية (أي صناديق للتنمية الاجتماعية).', axis_name: 'أنشطة القروض الصغيرة', global_num: 79, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'نسبة 5–10% لخدمات القرض وصناديق التنمية الاجتماعية' }, { name: 'نسبة المحصّل', target: '5–10%', unit: '%' }], documents: ['نظام النسبة', 'سجل الصناديق'] },
  { title: 'ممثلو المجموعات المكونة يضمنون سداد الودائع في الوقت المناسب من خلال أقساط شهرية من المستفيدين كل حسب مجموعته والحفاظ على المال المسدّد في صندوق دائر للأنشطة المستقبلية.', axis_name: 'أنشطة القروض الصغيرة', global_num: 80, axis_order: 9, kpis: [{ ...VERIFICATION_KPI, description: 'ضمان السداد في الوقت المناسب وصندوق دائر' }, { name: 'توفر الأدلة', target: 'أدلة متوفرة (+)', unit: 'تحقق' }], documents: ['سجل الأقساط', 'وثائق الصندوق الدائر'] },
];

/** مؤشر توثيق النتيجة (موحد لجميع المحاور) */
const DOCUMENTATION_KPI = { name: 'توثيق النتيجة', target: 'تسجيل (+) أو (-) لكل معيار', unit: '-', description: 'أدلة متوفرة (+) أو أدلة غير متوفرة (-)' };

/** مؤشرات أداء على مستوى كل محور (لصفحة المعايير وجدول النتيجة والتقارير) — من ملف Healthy_Cities_Criteria.csv */
export const AXIS_KPIS_CSV = [
  { axis_order: 1, axis_name: 'تنظيم المجتمع وتعبئته من أجل الصحة والتنمية', axis_standards_count: 7, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 7' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '6 معايير على الأقل من 7', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: تدريب المجموعات ولجنة التنسيق والمركز الاجتماعي', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 2, axis_name: 'التعاون، والشراكة والدعوة بين القطاعات', axis_standards_count: 7, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 7' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '6 معايير على الأقل من 7', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: لجنة التنسيق والمنسق والشركاء', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 3, axis_name: 'مركز المعلومات المجتمعي', axis_standards_count: 5, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 5' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '4 معايير على الأقل من 5', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: مركز المعلومات وملف المدينة', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 4, axis_name: 'المياه والصرف الصحي وسلامة الغذاء وتلوث الهواء', axis_standards_count: 11, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 11' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '9 معايير على الأقل من 11', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: المياه والنفايات والغذاء وجودة الهواء', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 5, axis_name: 'التنمية الصحية', axis_standards_count: 26, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 26' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '21 معياراً على الأقل من 26', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: التغطية الصحية والتحصين والرعاية', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 6, axis_name: 'الاستعداد للطوارئ والاستجابة لها', axis_standards_count: 6, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 6' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '5 معايير على الأقل من 6', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: خطة الطوارئ والتدريب والمجموعات المستضعفة', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 7, axis_name: 'التعليم ومحو الأمية', axis_standards_count: 5, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 5' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '4 معايير على الأقل من 5', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: الالتحاق وجودة التعليم ومحو الأمية', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 8, axis_name: 'تنمية المهارات، والتدريب المهني وبناء القدرات', axis_standards_count: 6, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 6' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '5 معايير على الأقل من 6', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: مراكز التدريب والتمويل الذاتي والمبدعين', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
  { axis_order: 9, axis_name: 'أنشطة القروض الصغيرة', axis_standards_count: 7, kpis: [{ name: 'نسبة المعايير المحققة في المحور (أدلة متوفرة)', target: '80% أو أكثر', unit: '%', description: 'عدد المعايير التي وُجدت لها أدلة ÷ 7' }, { ...DOCUMENTATION_KPI }, { name: 'عدد المعايير ذات الأدلة المتوفرة', target: '6 معايير على الأقل من 7', unit: 'معيار', description: 'حد التحقق: 80% من معايير المحور' }, { name: 'مؤشر أداء: القروض والحساب المصرفي وصناديق التنمية', target: 'أدلة متوفرة (+) أو غير متوفرة (-)', unit: '-' }] },
];

/** مؤشر التصنيف الإجمالي (للعرض في صفحة المعايير) */
export const OVERALL_CLASSIFICATION_KPI = {
  name: 'تصنيف المدينة الصحية',
  target: '80% من المعايير محققة على الأقل',
  unit: 'تحقق',
  description: 'يُحسب حسب نسبة المعايير التي وُجدت لها أدلة من إجمالي 80 معياراً.',
};

/**
 * استنتاج رقم المحور (1–9) من فهرس المعيار (0–79) حسب CSV.
 */
export function getAxisOrderFromStandardIndexCsv(index) {
  if (index < 0 || index >= 80) return 1;
  let sum = 0;
  for (let a = 0; a < AXIS_COUNTS_CSV.length; a++) {
    if (index < sum + AXIS_COUNTS_CSV[a]) return a + 1;
    sum += AXIS_COUNTS_CSV[a];
  }
  return 9;
}

/**
 * استنتاج رمز المعيار (م1-1 … م9-7) من فهرس المعيار (0–79).
 */
export function getStandardCodeFromIndex(index) {
  if (index < 0 || index >= STANDARDS_CSV.length) return null;
  const axisOrder = getAxisOrderFromStandardIndexCsv(index);
  const before = AXIS_COUNTS_CSV.slice(0, axisOrder - 1).reduce((a, b) => a + b, 0);
  const i = index - before + 1;
  return `م${axisOrder}-${i}`;
}

/** تطبيع الرمز للمقارنة: إزالة كل المسافات وتوحيد الشرطة ليصبح الشكل مرقم-رقم فقط */
export function normalizeStandardCode(code) {
  const s = String(code || '')
    .trim()
    .replace(/\s+/g, '')
    .replace(/\u0640/g, '')
    .replace(/[\u2010-\u2015\u2212\u058A\u2010\u2011\u2012\u2013\u2014\u2015\u2053\u207B\u208B\u2212\u2796\uFE58\uFE63\uFF0D]/g, '-');
  const match = s.match(/[\u0645م](\d+)-(\d+)/); // م عربية أو لاتينية
  return match ? `م${match[1]}-${match[2]}` : s;
}

/**
 * استخراج مؤشر المعيار (0–79) من الرمز م{محور}-{رقم} — 9 محاور، 80 معياراً.
 * للترتيب وإزالة التكرار في الواجهة والتقارير.
 */
export function getStandardIndexFromCode(code) {
  const raw = normalizeStandardCode(code);
  const match = raw.match(/م(\d+)-(\d+)/);
  if (!match) return -1;
  const axisNum = parseInt(match[1], 10);
  const i = parseInt(match[2], 10);
  if (axisNum < 1 || axisNum > AXIS_COUNTS_CSV.length || i < 1) return -1;
  const before = AXIS_COUNTS_CSV.slice(0, axisNum - 1).reduce((a, b) => a + b, 0);
  return Math.min(STANDARDS_CSV.length - 1, before + (i - 1));
}

/**
 * ترتيب المعايير حسب الترقيم المرجعي (م1-1 … م9-7) وإزالة التكرار (معيار واحد لكل رمز).
 * @param {Array} standardsList مصفوفة معايير من API
 * @returns {Array} نفس المصدر مرتبة ومُزالة التكرار
 */
export function sortAndDeduplicateStandardsByCode(standardsList) {
  if (!Array.isArray(standardsList)) return [];
  const sorted = [...standardsList].sort((a, b) => {
    const idxA = getStandardIndexFromCode(a.code);
    const idxB = getStandardIndexFromCode(b.code);
    if (idxA < 0 && idxB < 0) return 0;
    if (idxA < 0) return 1;
    if (idxB < 0) return -1;
    return idxA - idxB;
  });
  const seen = new Set();
  return sorted.filter((s) => {
    const code = normalizeStandardCode(s.code);
    if (!code || seen.has(code)) return false;
    seen.add(code);
    return true;
  });
}
